<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test M√≥dulos</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background: #1a1a1a; 
            color: white; 
            padding: 20px; 
        }
        button { 
            background: #8b5cf6; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            margin: 5px; 
            border-radius: 5px; 
            cursor: pointer; 
        }
        button:hover { 
            background: #7c3aed; 
        }
        .result { 
            background: #2a2a2a; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px; 
            border-left: 4px solid #8b5cf6; 
        }
    </style>
</head>
<body>
    <h1>üß™ Test de M√≥dulos NitedCrypto</h1>
    
    <h2>Funciones de Features:</h2>
    <button onclick="testFunction('toggleTheme')">Test toggleTheme</button>
    <button onclick="testFunction('openStoryUpload')">Test openStoryUpload</button>
    <button onclick="testFunction('showShareModal')">Test showShareModal</button>
    
    <h2>Funciones de Search:</h2>
    <button onclick="testFunction('loadExploreContent')">Test loadExploreContent</button>
    <button onclick="testFunction('filterByHashtag')">Test filterByHashtag</button>
    <button onclick="testFunction('toggleFollow')">Test toggleFollow</button>
    
    <h2>Otras Funciones:</h2>
    <button onclick="testFunction('toggleNotifications')">Test toggleNotifications</button>
    <button onclick="testFunction('showSection')">Test showSection</button>
    
    <h2>Debug General:</h2>
    <button onclick="runDebug()">üîç Debug Completo</button>
    <button onclick="testAllFunctions()">üß™ Test Todas las Funciones</button>
    
    <div id="results"></div>

    <script>
        function testFunction(functionName) {
            const results = document.getElementById('results');
            const exists = typeof window[functionName] !== 'undefined';
            
            results.innerHTML = `
                <div class="result">
                    <strong>${functionName}:</strong> 
                    ${exists ? '‚úÖ Disponible' : '‚ùå No encontrada'}
                    ${exists ? '<br>Tipo: ' + typeof window[functionName] : ''}
                </div>
            ` + results.innerHTML;
            
            if (exists) {
                try {
                    // Test safe functions
                    if (functionName === 'toggleTheme') {
                        window[functionName]();
                        results.innerHTML = `
                            <div class="result">
                                ‚úÖ ${functionName} ejecutada correctamente
                            </div>
                        ` + results.innerHTML;
                    }
                } catch (error) {
                    results.innerHTML = `
                        <div class="result">
                            ‚ùå Error ejecutando ${functionName}: ${error.message}
                        </div>
                    ` + results.innerHTML;
                }
            }
        }
        
        function runDebug() {
            if (typeof window.debugModules === 'function') {
                window.debugModules();
            } else {
                console.log('‚ùå Debug function not available');
            }
        }
        
        function testAllFunctions() {
            const functions = [
                'toggleTheme', 'openStoryUpload', 'hideStoryUpload', 'uploadStory',
                'loadExploreContent', 'filterByHashtag', 'toggleFollow',
                'toggleNotifications', 'showSection'
            ];
            
            const results = document.getElementById('results');
            results.innerHTML = '<div class="result"><h3>üß™ Testing all functions...</h3></div>';
            
            functions.forEach(fn => {
                setTimeout(() => testFunction(fn), 100);
            });
        }
        
        // Auto-load modules and test
        setTimeout(() => {
            console.log('üì¶ Loading modules for testing...');
            
            // Load features
            import('./src/js/modules/features.js').then(() => {
                console.log('‚úÖ Features loaded');
                
                // Load search
                return import('./src/js/modules/search.js');
            }).then(() => {
                console.log('‚úÖ Search loaded');
                
                // Auto test
                setTimeout(() => {
                    console.log('üîÑ Auto-testing functions...');
                    testAllFunctions();
                }, 1000);
            }).catch(error => {
                console.error('‚ùå Error loading modules:', error);
            });
            
        }, 500);
    </script>
</body>
</html>